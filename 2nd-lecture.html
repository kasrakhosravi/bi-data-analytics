<!DOCTYPE html>
<html lang="en-US">
	
<head>	
<title>BI Data Analytics</title>

<meta charset="UTF-8">
<meta name="description" content="BI Data Analytics"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#157878">
  
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/aaa/assets/css/style.css?v=de65868e5d6a8010907d8f0aa653e21466b700a1">
<link rel="stylesheet" href="/style.css">
<script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>
</head>
	
<body>

<section class="page-header">
  <h1 class="project-name">BI Data Analytics</h1>
  <h2 class="project-tagline"></h2>
  <a href="https://kasrakhosravi.github.io/bi-data-analytics" class="btn">Homepage</a>
</section>

<section class="main-content">
	    
<h4 id="welcome-to-github-pages">Second Lecture</h4>  
	    
<p style='font-size: 14px'>
  In the previous lecture we explored some methods to perform analysis for single variables.
</p>
	    
<br />
<br />
	    
<h5 id="welcome-to-github-pages">Exploring One variable (Categorical) and Pairwise Relationships</h5>   
	    
<p style='font-size: 14px'>
  In the previous lecture we explored some methods to perform analysis for single variables. lets continue that
  work by analysing categorical single variables. Logically, it does not make sense to compute summary statistics
  (like mean or median for these types of variables; But we have other options like frequency tables and barplots.
  Lets try using them.
</p>
	    
<div data-datacamp-exercise data-lang="r">
	      
<code data-type="pre-exercise-code">
# This will get executed each time the exercise gets initialized

require(RCurl)

housingData <-read.csv(
	text=getURL(
		"https://raw.githubusercontent.com/kasrakhosravi/bi-data-analytics/master/datasets/housingData.tsv"
	),
	header=T, 
	sep = "\t"
)
</code>
		
<code data-type="sample-code">
# This command will give us a general summary of a single categorical variable. There is actually two ways to achieve. This for categorical data.
with(housingData, summary(Brick))
with(housingData, table(Neighborhood))
	
# To get a sense of the percentage distribution of the sample data across different variable values, we can use the following function.
with(housingData, round(
	prop.table(table(Brick)),2
))
	
# In my opinion, this is a really interesting analysis since it gives us the spread of samples across different categories and we can get a sense if we have chosen a balanced data sample for our study.
	
# (Plot 1): Another tool for analysing a single categorical variable is to use a barplot. It gives us the same information as the 'table' function above but it displays it more visually
with(housingData, barplot(
	table(Neighbodhood), main = 'Neighborhood'
))
	
# Some of you might ask why we have used something like 'table(sth)' after the 'barplot()' functuin. It seemed that we did not have to pass such an input to other types of functions like 'plot()'? Well, the simple explanation is that this function need a a vector or matrix of values describing the bars which make up the plot and that is exactly what we are doign with 'table(sth)'


</code>
		
</div>
      
<br />
<br />
	      
 <h5 id="welcome-to-github-pages">Exploring One variable</h5>   
	    
      <p style='font-size: 14px'>
	It is crucial to examine waht kind of object we are working with in R. It turns out
	that R offers us a wide range of functions to do that. Lets explore some of them considering
	that we have already loaded a dataset called 'marketingData'
      </p>
	    
      <div data-datacamp-exercise data-lang="r">
	      
	<code data-type="pre-exercise-code">
		# This will get executed each time the exercise gets initialized

		require(RCurl)

		marketingData <-read.csv(
		  text=getURL(
		    "https://raw.githubusercontent.com/kasrakhosravi/catalog-marketing-R/master/DirectMarketing.csv"),
		  header=T, 
		  sep = "\t"
		)
	</code>
		
	<code data-type="sample-code">
		# We can explore the summary statistics of a single variable in a dataset which will give us values like min and max numbers, mean, median, etc.
		with(marketingData, summary(Salary))
		
		
		
		# (1st Plot) Also it is possible to draw a histogram based on a single variable. It shows us a general overview about the distribution of the variable values
		with(marketingData, hist(Salary))
		
		
		
		# Imagine that we only need the mean and standard deviation for a single variable in a dataset. R will allow us to get it fast and easy :). It is important to keep in mind that not all datasets distributions are Gaussian (Bell-Like) and therefore different interpretations might be needed
		with(marketingData, mean(Salary))
		with(marketingData, sd(Salary))
		with(marketingData, median(Salary))
		
		
		# It is beneficial to mention that calculating summary statistics is not useful for every type of dataset like categorical or discrete values. For instance in this dataset, Children variable can only have discrete values in order to be meaningful; therefore calculating its mean will not give us much of an important result. What does it mean to have 0.934 children? :)
		with(marketingData, mean(Children))
		
		
		
		# (2nd Plot) We have used a histogram before but histogram is not the best option to compare data distribution. Here we are only exploring one variable but it would be nice to have the  to get familiar with the tools we can use in future
		with(marketingData, plot(density(Salary), xlab='Salary'))
		
		
		
		# (Plot 3) Lets see waht happens when we bring a histogram and a density plot together. Magic Happens :)
		par(mfrow = c(1,2))
		with(marketingData, hist(Salary, probability= TRUE, col='grey75'))
		with(marketingData, lines(density(Salary), col='red'))
		
		
		
		# (Plot 4) We are still exploring single values but lets bring few hsitograms with different variables into a single plot and compare them. Remember that we can only draw plots for variables with numeric values
		par(mfrow = c(1,4))
		with(marketingData, hist(AmountSpent, col='red'))
		with(marketingData, hist(Catalogs, col='green'))
		with(marketingData, hist(Children, col='blue'))
		with(marketingData, hist(Salary, col='yellow'))
		
		
		
		# (Plot 5) Sometimes we want to explore a variable in a different format. For instance we have the amount spent in NOk and we want to change it to USD. The following command will help us to do that easily
		par(mfrow = c(1,2))
		marketingData$UsdAmountSpent <- with(marketingData, round(AmountSpent * 0.12))
		with(marketingData, hist(AmountSpent, col='blue'))
		with(marketingData, hist(UsdAmountSpent, col='grey75'))
						
		
						
	</code>
		
    </div>
		
	<br />
	<br />
		
	<h5 id="welcome-to-github-pages">Advanced Stuff</h5>   
	    
      <p style='font-size: 14px'>
	Lets explore some advanced stuff. In R we have the ability to create our functions which makes
	life easier on so many levels. We define a function once and we can use i t many times during 
        our program. If you think about it all of the other stuff we are using in R are already functions.
	Function is just like a factory that accepts an input and then gives us an output. Lets create some
	some functions together.
      </p>
	    
      <div data-datacamp-exercise data-lang="r">
	      
	<code data-type="pre-exercise-code">
		# This will get executed each time the exercise gets initialized

		require(RCurl)

		marketingData <-read.csv(
		  text=getURL(
		    "https://raw.githubusercontent.com/kasrakhosravi/catalog-marketing-R/master/DirectMarketing.csv"),
		  header=T, 
		  sep = "\t"
		)
	</code>
		
	<code data-type="sample-code">
		
		# Lets start easy. Lets create a function that accepts a data frame and one of its variable, then draws a hsitogram and also draw the density line in the histogram
		displayHist <- function(data, var) {
		    with(data, hist(var, probability = TRUE, col='grey75'))
	       	    with(data, lines(density(var), col='red'))
	        }
			       
			       
			       
		# Now lets call the function and pass the input variables and see waht will be the output
		displayHist(marketingData, marketingData$Salary)
			       
			      
			       
		# Next we will create a function that accepts a variable and an exchange factor that will transform the variable into a new variable. Then we will draw a histogram  plot based on the new and transformed variable
     		transformVar <- function(oldVar, newVar, exchFact) {
    			marketingData$newVar <- with(marketingData, round(exchFact * oldVar))
    			with(marketingData, hist(newVar, col='grey75'))
		}
   
						
						
		# Lets see the result of the function
       		transformVar(marketingData$AmountSpent, EurAmountSpent, 0.11)
						
						
						
	</code>
		
    </div>

      <footer class="site-footer">
	      <span id='footer-author'>
		      Made with <i style='color: red' class="fa fa-heart pulse"></i> By <a href='https://github.com/kasrakhosravi'>Kasra</a>
	      </span>
	      <br />
	      <span id='footer-author'>
	      Course Instructor: Associate Professor <a href='https://www.bi.no/om-bi/ansatte/institutt-for-samfunnsokonomi/gudmund-hermansen/'>Gudmund Hermansen</a>
	      </span>
      </footer>
	
    </section>

  </body>
</html>
